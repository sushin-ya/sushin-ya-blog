---
title: 'ãƒ–ãƒ­ã‚°ã¤ãã‚Šã¾ã—ãŸ'
excerpt: 'Next.jsã¨ChakraUIãƒ–ãƒ­ã‚°ã¤ãã‚Šã¾ã—ãŸ'
coverImage: '/assets/blog/dynamic-routing/cover.jpg'
date: '2022-06-26T20:30:07.322Z'
author:
  name: Sushin ya
  picture: '/avatar.jpg'
ogImage:
  url: '/avatar.jpg'
---

ã“ã‚“ã«ã¡ã¯ã€ã¯ã˜ã‚ã¾ã—ã¦ã€‚Sushin-ya ğŸ£ğŸˆ ã¨ç”³ã—ã¾ã™ï¼ˆé©å½“ãªåå‰ã«ã—ã™ãã¦ã¡ã‚‡ã£ã¨æ¥ãšã‹ã—ã„ç¬‘ï¼‰ã€‚

ä»Šå›ã¯ã€å€‹äººãƒ–ãƒ­ã‚°ã‚’ä½œã£ãŸã“ã¨ã«ã¤ã„ã¦æ›¸ã“ã†ã¨æ€ã„ã¾ã™ã€‚

## å€‹äººãƒ–ãƒ­ã‚°ä½œæˆã®çµŒç·¯
æ°—è»½ã«ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒã§ãã‚‹å ´æ‰€ãŒã»ã—ã„ãªã€ã¨æ€ã£ãŸã®ã§ä½œã‚Šã¾ã—ãŸã€‚

Zennã‚„Qiitaãªã©ã ã¨ã€ãªã‚“ã¨ãªãäººã®ç›®ãŒæ°—ã«ãªã‚‹ã®ã§ã€å€‹äººãƒ–ãƒ­ã‚°ãªã‚‰å¥½ããªã“ã¨æ›¸ã„ã¦ã‚‚è¨±ã•ã‚Œã‚‹ã‹ãªã¨...

ã‚ã¨ã€Next.jsã‚„ChakraUIã‚’ä½¿ã£ã¦ãªã«ã‹ä½œã‚ŠãŸã‹ã£ãŸã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚

æ€ ã‘è€…ãªã®ã§ã‚µãƒœã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã„...ã“ã®è¨˜äº‹ã‚‚æ›¸ãå§‹ã‚ã‚‹ã¾ã§ä¸€æ—¥é…å»¶ã—ã¾ã—ãŸğŸ¤”

## é–‹ç™ºç’°å¢ƒ
- MacBook Pro (13-inch, 2020)
  - æ¥­å‹™ã§ã¯M1ä½¿ã£ã¦ã¾ã™ãŒã€ç§ç”¨ã¯æ™®é€šã®2020å¹´ãƒ¢ãƒ‡ãƒ«ã§ã™
- VSCode
  - ã‹ã£ã“ã„ã„ã‹ã‚‰Vimä½¿ã£ã¦ã¿ãŸã„ã‘ã©VSCodeãŒè¦‡æ¨©ã™ãã‚‹

## æŠ€è¡“é¸å®š
- React/Next.js
  - ã©ã¡ã‚‰ã‚‚å¥½ãã§ã™ã€‚æ·±ãå‹‰å¼·ã—ã¦ã„ããŸã„ã§ã™ã­
- TypeScript
  - æœ€é«˜ã§ã™ã­ã€‚å‹ã«å¼·ããªã‚Šã¦ãˆ...ğŸ¤ª
- Chakra UI
  - æ¥­å‹™ã ã¨UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä½¿ã‚ãšã€CSS Modulesã§ç´ ã®ã¾ã¾æ›¸ãã“ã¨ãŒå¤šã„ã®ã§
  - å¤§æ˜”ã«Bootstrapã‚„MaterialUI(MUIã«ãªã‚‹å‰ï¼‰ã¯ä½¿ã£ãŸã“ã¨ã‚ã‚Šã¾ã™
- eslint
- prettier
  - é–‹ç™ºã§ã¯å¿…é ˆã§ã™ã­ã€‚ã‘ã©è¨­å®šãŒç§˜ä¼ã®ã‚¿ãƒ¬åŒ–ã—ã‚„ã™ã„æ°—ãŒ...ã€‚Next.jsã¯å¹¸ã„è‰²ã€…å…¥ã‚Œã¦ãã‚Œã¦ã‚‹ã®ã§è€ƒãˆãªãã¦ã‚ˆã„ã§ã™ã­
- husky/lint-stage
- commit lint
  - æ¡ˆä»¶ã§å…¥ã£ã¦ã‚‹äº‹ãŒå¤šã„ã®ã§ã€ä¸€å¿œ
- dayjs
  - æ—¥ä»˜éƒ¨åˆ†ã®è¡¨ç¤ºç”¨
- remark/rehype
  - ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«å¤‰æ›ã™ã‚‹ã‚„ã¤
- Vercel
  - å®‰å®šã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ

## ç’°å¢ƒæ§‹ç¯‰

### Next.jsã®ç«‹ã¡ä¸Šã’
[ChakraUIã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](https://github.com/vercel/next.js/tree/canary/examples/with-chakra-ui)ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒTypeScriptå¯¾å¿œã§ã€ã‹ã¤æœ€è¿‘Reactv18ã«ã‚‚å¯¾å¿œã—ãŸã¿ãŸã„ã ã£ãŸï¼ˆç€æ‰‹æ™‚ã®ï¼—æ—¥å‰ã«æ›´æ–°ã‚ã‚Šï¼‰

ãã®ã¾ã¾ä½¿ã£ã¦ã„ãã¾ã—ã‚‡ã†

```sh
npx create-next-app sushinya-blog --example with-chakra-ui with-chakra-ui-app
```

### ESLintã¨Prettier
[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs/basic-features/eslint)ã«ç¿’ã£ã¦å…¥ã‚Œã¦ã„ãã¾ã™

```json
// pakage.json
"scripts": {
  "lint": "next lint"
}
```

```sh
yarn lint
```

strict modeã‚’é¸æŠã—ã¾ã—ãŸ

Prettierã‚‚å…¥ã‚Œã¦ã„ãã¾ã™

```sh
yarn add --dev eslint-config-prettier
```

```json:
// .eslintrc.json
{
  "extends": ["next/core-web-vitals", "prettier"]
}
```

ã‚ã¨ã«ãªã£ã¦ã€ä½¿ã£ã¦ãªã„importæ–‡ã‚’ESLintã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã»ã—ããªã£ãŸã®ã§ã€è¿½åŠ ã—ã¾ã—ãŸ

```sh
yarn add -D eslint-plugin-unused-imports
```

```json
// .eslintrc.json
{
  "extends": ["next/core-web-vitals", "prettier"],
  "plugins": ["unused-imports"],
  "rules": {
    "@typescript-eslint/no-unused-vars": "off",
    "unused-imports/no-unused-imports": "error",
    "unused-imports/no-unused-vars": [
      "warn",
      {
        "vars": "all",
        "varsIgnorePattern": "^_",
        "args": "after-used",
        "argsIgnorePattern": "^_"
      }
    ]
  }
}

```

### husky/lint-stage

æ­£è§£ã®ã‚„ã‚Šæ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€[ã“ã¡ã‚‰ã®è¨˜äº‹](https://blog.gaji.jp/2021/12/16/8810/)ã‚’çœºã‚ãŸã‚Šã—ã¤ã¤å°å…¥

```sh
yarn add --dev husky lint-staged
```

```sh
npx husky-init && yarn
```

```sh
// .husky/pre-commit

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

yarn lint-staged
```

husky-initãŒã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ãã‚Œã‚‹ã‚‰ã—ã„

lintstageã®è¨­å®šã‚‚[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs/basic-features/eslint#lint-staged)ã‚’è¦‹ãŸã‚ˆã†ãªè¦‹ã¦ãªã„ã‚ˆã†ãª

```js
// .lintstagedrc.js
const path = require('path')

const buildEslintCommand = (filenames) =>
  `next lint --fix --file ${filenames
    .map((f) => path.relative(process.cwd(), f))
    .join(' --file ')}`

module.exports = {
  '*.{js,jsx,ts,tsx}': [buildEslintCommand],
}
```

å‹•ã„ã¦ã‚‹ã£ã½ã„ã®ã§ãƒ¨ã‚·ï¼

### commit lint
[å…¬å¼](https://github.com/conventional-changelog/commitlint)ã¨[è¨˜äº‹](https://qiita.com/PonPon3/items/333e1f6e899576ab4195#git-commit%E6%99%82%E3%81%AB%E8%87%AA%E5%8B%95%E3%81%A7eslint%E3%81%A8stylelint%E3%82%92%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%81%99%E3%82%8B)ã‚’å‚è€ƒã«ã—ã¤ã¤

```sh
yarn add --dev @commitlint/{cli,config-conventional}
```

```json
// .commitlintrc.json
{
  "extends": ["@commitlint/config-conventional"]
}
```

```json
// package.json
"scripts": {
    "commitmsg": "commitlint -e $GIT_PARAMS"
  },
```

```sh
npx husky add .husky/commit-msg
```

```sh
// commit-msg
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

yarn commitmsg
```

ã‚ˆãã‚ã‹ã£ã¦ãªã„ã§ã™ãŒã€å‹•ã„ã¦ã‚‹ã®ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—çµ‚äº†ã§ã™ç¬‘

## å®Ÿè£…
ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ–ãƒ­ã‚°ã¨ã„ã†

## å›°ã£ãŸã“ã¨

## æœ€å¾Œã«

## å‚è€ƒ
